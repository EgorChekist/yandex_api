# Yandex Music Playlist Parser

Микросервис на фреймворке FastAPI для скачивания плейлистов Яндекс.Музыки в формате JSON по ссылке.

---

## Запуск

```
pip install -r requirements.txt
python main.py

```

После запуска сервер автоматически запустится локальном сервере http://127.0.0.1:8000

## Использование
Вставьте ссылку на плейлист → нажмите кнопку → браузер скачает playlist.json.

## API
GET "/" Возвращает HTML-страницу с формой ввода ссылки на плейлист.
GET "/api/playlist/{ссылка}" Парсит плейлист и возвращает JSON-файл. (на случай нерабочей html страницы)

## Формат выходного JSON

### Поля:

```
title — название плейлиста
tracks — список треков
track_count — количество треков
```

### Каждый трек содержит:

- title
- artists
- cover
- iframe



## Assumptions & Edge cases

Поддерживается оба указанных формата:

- https://music.yandex.ru/users/{owner}/playlists/{playlist_id}
- https://music.yandex.ru/playlists/{lk.id}

## Учтённые краевые случаи

- неверный формат ссылки
- отсутствие плейлиста
- пустой плейлист
- отсутствие обложек
- треки без альбомов
- неполные данные по артистам

## Поведение при недоступности источника

Если music.yandex.ru недоступен или возвращает ошибку:

- сервер отвечает ошибкой
- файл playlist.json не создаётся
- клиент получает сообщение об ошибке

## Использованные неофициальные механизмы

В итогом проекте таковые не используются. Однако, я пробовал получить неофициальный Яндекс API и мне не хватило терпения разбираться в ошибках, которые он выдаёт.

## Что можно сделать за +2–3 часа (но это не означает 2-3 часа работы)

- POST + AJAX без перезагрузки страницы 
- кэширование плейлистов
- скачивание архива (JSON +обложки)

## Использование нейронных сетей

- написание index.html
- помощь в написании структурированного кода

## Недостатки

В ТЗ было указано написание SWAGGER документации, но сожалению, не хватило временного ресурса на изучение данной части проекта. Надеюсь, это не критично.
